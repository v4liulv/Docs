# HNZX KSHFX
可视化分析是进行数据处理，然后写入相关的图数据的基本概念，中间进行源数据的过滤、统计、分析等特殊的处理。
是源库-图数据库或源库时间-数据接口的过程，中间进行各种需求的处理，是源库和中间库以及图数据库的桥梁和纽带。
应用到组件包含Oracle、HBase、Hive、MapReduce、Spark、Neo4j、Flume等进行中间数据存储和数据分析。

## 程序工程模块
程序工程包含的全部子模块都是Maven工程，包含的子模块有kshfx-core、kshfx-ssh、kshfx-hbase、kshfx-neo4j、
kshfx-mapreduce、kshfx-spark、kshfx-hive，导入的时候需要开发工具支持Maven。Maven依赖层级：
全部的父级：kshfx-parent,全部模块的父全局公共配置各依赖的版本控制，只提供公共的pom的依赖的，全局模块的都以此基础扩展。
1级(顶级) kshfx-core
2级 kshfx-ssh(kshfx-core)
2级 kshfx-hbase(kshfx-core)
3级 kshfx-neo4j(直接依赖kshfx-ssh， 间接依赖：kshfx-core）
4级 kshfx-mapreduce(直接依赖：kshfx-hbase和kshfx-neo4j， 间接依赖：kshfx-ssh和kshfx-core)
4级 kshfx-spark(直接依赖：kshfx-hbase和kshfx-neo4j，间接依赖：kshfx-ssh和kshfx-core)
5级 kshfx-hive(直接依赖：kshfx-mapreduce， 间接依赖：kshfx-ssh和kshfx-core)
注：添加依赖规则： 同级别只能其中一个依赖另外一个，子依赖（包含直接和间接的依赖）模块不能依赖主模块，
比如kshfx-neo4j模块依赖了kshfx-ssh，那么kshfx-ssh模块就不能在添加neo4j的依赖

## kshfx-parent
全局的父模块，提供全局的公共的依赖，以及全部模块依赖的版本的控制等，以及整个工程的版本控制

### kshfx-core
模块为整个工程的基础模块，提供公共的工具的类和基础的数据访问方法以及WebService开发

### kshfx-ssh
该模块提供Spark+Spring+Hibernate的mvc的实现，对外提供JdbcService的查询

### kshfx-hbase
提供HBase数据库连接操作工具类，提供HBase相关方法接口等

### kshfx-hive
提供Hive连接，Hive数据仓库操作和接口，主要是建立模型HBase的外部中间表。另外还有Hive Hql的操作等

### kshfx-neo4j
提供Neo4j图数据的连接和操作的方法和接口，并提供前端的展示的查询

### kshfx-mapreduce
该模块主要是进行MR对数据进行分析处理，提供了增量全量MR处理方案。另外还数据统计和分析

### kshfx-spark
该模块是Spark的数据处理部分，提供连接HBase和Hive的数据库进行数据消费包含其中的查询统计分析。
提供RDD和SparkSQL和SparkStreaming等方面的基础操作

### kshfx-titan
该模块是分布式图数据库处理，提供大图的存储的解决方案，提供分布式图库Titan各方面操作的API

## 源库 - 资源库
源库一般都指业务的Oracle数据库，进行数据采集或汇总的数据库，我们用到源库的都是资源汇总的资源库。

## 中间数据库 - HBase/Hive
理论上除了数据采集端和数据汇总端的数据库都可称为自己数据库，我们用到的中间数据主要有两种HBase和Hive数据仓库。

## 源库到中间数据库
源库到中间库，理论上会进行数据的处理包含数据字段的过滤，模型的建立都会在中间库进行。
常规流程：Oracle基础标准库-HBase数据库-Hive外部表-（Solr）
常规流程2：Oracle基础标准库-Hive内部表

## 数据过滤、统计、分析
数据过滤包含有：数据字段的过滤、数据的主键重组、宽表的整个字段的重组、删除标准的数据过滤和数据完整性的过滤等
数据统计：包含通过包含Oracle增量的统计、HBase基于Java多线程统计、基于MR的源库中间库和图数据库的统计、基于Spark方法的统计等
数据分析：包含源库写入中间库的数据分析、中间库的查询分析、源库到图数据库的数据分析、图计算分析。
分析包含的技术包含MapReduce/HiveHQL/SparkRDD/SparkSQL/SparkStreaming/Flume数据源数据处理/Spark Graphx图计算分析等

## 图数据库
图数据库主要用到是Neo4j，其中包含图计算基于Spark结合的数据建模和基于Session的外部的数据处理。
数据处理包含有：Neo4jBatchImport、MR（Oracle-Neo4j）、Flume+Spark到图数据库的、Kafka+Flume+Spark到图数据库

## 结合源库、中间数据库、数据分析处理组件和图数据库进行数据处理
整体流程有几个方式:源库->数据分析组件分析->目标数据库(或接口)
源库—>数据处理工具->中间库->数据分析组件->目标数据库（或接口）

